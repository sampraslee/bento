<div id="edit-container">
    <div class="edit-info-container">

        <div class="form-row w-100 m-0 p-0">
            <div class="col p-3">
                <div class="d-flex justify-content-center">
                    <%= image_tag current_user.avatar.show.url, class: ' mb-3 border border-danger rounded-circle' %>
                </div>
                <h3 class="text-center"><span style="font-weight: bold;"><%= @user.first_name%>'s </span> information</h3>
                    <%= form_with model: @user,class: :"w-100 p-2", local: true do |form| %>
                        <%= render partial: '/users/edit_info', object: form %>
                        <%#= form.label :programming_level %>
                        <div class="submit-field d-flex justify-content-center">
                            <%= form.submit class: 'btn btn-danger bg-mutted'%>
                        </div>
                    <% end %>
            </div>
            <div class="col p-3">
                <div class="edit-preferences-container">
                    <h3 class="text-center">Preferences</h3>
                    <%= form_with model: @user, local: true do |form| %>
                        <%= render partial: '/users/preferences', object: form %>
                    <% end %>
                </div>
            </div>

        </div>
    </div>
</div>


<script>
// ––––––––––––– AJAX to set users programming_level –––––––––––––
$(document).ready(function(){
    // –––––––––––– Ruby –––––––––––––-
    $(".ruby-beginner").click((e) => {
        e.preventDefault()
        console.log(e.target.value);
        $.ajax({
            url: '/user/<%= current_user.id %>/update_language_skill',
            method: "POST",
            dataType: "JSON",
            data: {programming_level: 'ruby beginner'},
            success: (result) => {
                console.log(result)
                $('.ruby-beginner').addClass('active');
                $('.ruby-intermediate').removeClass('active');
                $('.ruby').addClass('active');
            }
        })
    })
    $(".ruby-intermediate").click((e) => {
        e.preventDefault()   
        console.log(e.target.value);
        $.ajax({
            url: '/user/<%= current_user.id %>/update_language_skill',
            method: "POST",
            dataType: "JSON",
            data: {programming_level: 'ruby intermediate'},
            success: (result) => {
                console.log(result)
                $('.ruby-intermediate').addClass('active');
                $('.ruby-beginner').removeClass('active');
                $('.ruby').addClass('active');
            }
        })
    })
    // –––––––––––– Javascript –––––––––––––
        $(".javascript-beginner").click((e) => {
        e.preventDefault()
        console.log(e.target.value);
        $.ajax({
            url: '/user/<%= current_user.id %>/update_language_skill',
            method: "POST",
            dataType: "JSON",
            data: {programming_level: 'javascript beginner'},
            success: (result) => {
                console.log(result)
                $('.javascript-beginner').addClass('active');
                $('.javascript-intermediate').removeClass('active');
                $('.javascript').addClass('active');
            }
        })
    })
    $(".javascript-intermediate").click((e) => {
        e.preventDefault()   
        console.log(e.target.value);
        $.ajax({
            url: '/user/<%= current_user.id %>/update_language_skill',
            method: "POST",
            dataType: "JSON",
            data: {programming_level: 'javascript intermediate'},
            success: (result) => {
                console.log(result)
                $('.javascript-intermediate').addClass('active');
                $('.javascript-beginner').removeClass('active');
                $('.javascript').addClass('active');
            }
        })
    })
    // –––––––––––– Python –––––––––––––
    $(".python-beginner").click((e) => {
        e.preventDefault()
        console.log(e.target.value);
        $.ajax({
            url: '/user/<%= current_user.id %>/update_language_skill',
            method: "POST",
            dataType: "JSON",
            data: {programming_level: 'python beginner'},
            success: (result) => {
                console.log(result)
                $('.python-beginner').addClass('active');
                $('.python-intermediate').removeClass('active');
                $('.python').addClass('active');
            }
        })
    })
    $(".python-intermediate").click((e) => {
        e.preventDefault()   
        console.log(e.target.value);
        $.ajax({
            url: '/user/<%= current_user.id %>/update_language_skill',
            method: "POST",
            dataType: "JSON",
            data: {programming_level: 'python intermediate'},
            success: (result) => {
                console.log(result)
                $('.python-intermediate').addClass('active');
                $('.python-beginner').removeClass('active');
                $('.python').addClass('active');
            }
        })
    })
})
</script>
<script>
// ––––––––––––– AJAX to set users developer_type –––––––––––––
// Front End
$(document).ready(function() {
    $(".front-end").click((e) => {
        e.preventDefault()
        $.ajax({
            url: '/user/<%= current_user.id %>/update_developer_type',
            method: "POST",
            dataType: "JSON",
            data: {developer_type: "front end"},
            success: (result) => {
                console.log(result)
                $(".front-end").addClass('active');
                $(".front-end").attr('disabled', 'disabled');
            }
        })
    })
// Back End 
    $(".back-end").click((e) => {
        e.preventDefault()
        $.ajax({
            url: '/user/<%= current_user.id %>/update_developer_type',
            method: "POST",
            dataType: "JSON",
            data: {developer_type: "back end"},
            success: (result) => {
                console.log(result)
                $(".back-end").addClass('active');
                $(".back-end").attr('disabled', 'disabled');
            }
        })
    })
// Full Stack
    $(".full-stack").click((e) => {
        e.preventDefault()
        $.ajax({
            url: '/user/<%= current_user.id %>/update_developer_type',
            method: "POST",
            dataType: "JSON",
            data: {developer_type: "full stack"},
            success: (result) => {
                console.log(result)
                $(".full-stack").addClass('active');
                $(".full-stack").attr('disabled', 'disabled');
            }
        })
    })
// Mobile End
    $(".mobile").click((e) => {
        e.preventDefault()
        $.ajax({
            url: '/user/<%= current_user.id %>/update_developer_type',
            method: "POST",
            dataType: "JSON",
            data: {developer_type: "mobile"},
            success: (result) => {
                console.log(result)
                $(".mobile").addClass('active');
                $(".mobile").attr('disabled', 'disabled');
            }
        })
    })
})
</script>
<script>
// ––––––––––––– AJAX to set users current interest –––––––––––––
$(document).ready(function(){
    $(".pgw").click((e) => {
        e.preventDefault()
        $.ajax({
            url: '/user/<%= current_user.id %>/update_current_interest',
            method: "POST",
            dataType: "JSON",
            data: {current_interest: "progressive web apps"},
            success: (result) => {
                console.log(result)
                $(".pgw").addClass('active');
            }
        })
    })
    $(".chatbot").click((e) => {
        e.preventDefault()
        $.ajax({
            url: '/user/<%= current_user.id %>/update_current_interest',
            method: "POST",
            dataType: "JSON",
            data: {current_interest: "chatbot"},
            success: (result) => {
                console.log(result)
                $(".chatbot").addClass('active');
            }
        })
    })
    $(".cybersecurity").click((e) => {
        e.preventDefault()
        $.ajax({
            url: '/user/<%= current_user.id %>/update_current_interest',
            method: "POST",
            dataType: "JSON",
            data: {current_interest: "cybersecurity"},
            success: (result) => {
                console.log(result)
                $(".cybersecurity").addClass('active');
            }
        })
    })
    $(".motionui").click((e) => {
        e.preventDefault()
        $.ajax({
            url: '/user/<%= current_user.id %>/update_current_interest',
            method: "POST",
            dataType: "JSON",
            data: {current_interest: "motionui"},
            success: (result) => {
                console.log(result)
                $(".motionui").addClass('active');
            }
        })
    })
})
</script>